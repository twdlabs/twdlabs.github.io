
var simpleTable = [.50000,.53983,.57926,.61791,.65542,.69146,.72575,.75804,.78814,.81594,.84134,.86433,.88493,.90320,.91924,.93319,.94520,.95543,.96407,.97128,.97725,.98214,.98610,.98928,.99180,.99379,.99534,.99653,.99744,.99813,.99865,.99903,.99931,.99952,.99966,.99977,.99984,.99989,.99993,.99995,.99997];
var leftTable = [.00003, .00003, .00003, .00003, .00003, .00003, .00002, .00002, .00002, .00002, .00005, .00005, .00004, .00004, .00004, .00004, .00004, .00004, .00003, .00003, .00007, .00007, .00007, .00006, .00006, .00006, .00006, .00005, .00005, .00005, .00011, .00010, .00010, .00010, .00009, .00009, .00008, .00008, .00008, .00008, .00016, .00015, .00015, .00014, .00014, .00013, .00013, .00012, .00012, .00011, .00023, .00022, .00022, .00021, .00020, .00019, .00019, .00018, .00017, .00017, .00034, .00032, .00031, .00030, .00029, .00028, .00027, .00026, .00025, .00024, .00048, .00047, .00045, .00043, .00042, .00040, .00039, .00038, .00036, .00035, .00069, .00066, .00064, .00062, .00060, .00058, .00056, .00054, .00052, .00050, .00097, .00094, .00090, .00087, .00084, .00082, .00079, .00076, .00074, .00071, .00135, .00131, .00126, .00122, .00118, .00114, .00111, .00107, .00104, .00100, .00187, .00181, .00175, .00169, .00164, .00159, .00154, .00149, .00144, .00139, .00256, .00248, .00240, .00233, .00226, .00219, .00212, .00205, .00199, .00193, .00347, .00336, .00326, .00317, .00307, .00298, .00289, .00280, .00272, .00264, .00466, .00453, .00440, .00427, .00415, .00402, .00391, .00379, .00368, .00357, .00621, .00604, .00587, .00570, .00554, .00539, .00523, .00508, .00494, .00480, .00820, .00798, .00776, .00755, .00734, .00714, .00695, .00676, .00657, .00639, .01072, .01044, .01017, .00990, .00964, .00939, .00914, .00889, .00866, .00842, .01390, .01355, .01321, .01287, .01255, .01222, .01191, .01160, .01130, .01101, .01786, .01743, .01700, .01659, .01618, .01578, .01539, .01500, .01463, .01426, .02275, .02222, .02169, .02118, .02068, .02018, .01970, .01923, .01876, .01831, .02872, .02807, .02743, .02680, .02619, .02559, .02500, .02442, .02385, .02330, .03593, .03515, .03438, .03362, .03288, .03216, .03144, .03074, .03005, .02938, .04457, .04363, .04272, .04182, .04093, .04006, .03920, .03836, .03754, .03673, .05480, .05370, .05262, .05155, .05050, .04947, .04846, .04746, .04648, .04551, .06681, .06552, .06426, .06301, .06178, .06057, .05938, .05821, .05705, .05592, .08076, .07927, .07780, .07636, .07493, .07353, .07215, .07078, .06944, .06811, .09680, .09510, .09342, .09176, .09012, .08851, .08691, .08534, .08379, .08226, .11507, .11314, .11123, .10935, .10749, .10565, .10383, .10204, .10027, .09853, .13567, .13350, .13136, .12924, .12714, .12507, .12302, .12100, .11900, .11702, .15866, .15625, .15386, .15151, .14917, .14686, .14457, .14231, .14007, .13786, .18406, .18141, .17879, .17619, .17361, .17106, .16853, .16602, .16354, .16109, .21186, .20897, .20611, .20327, .20045, .19766, .19489, .19215, .18943, .18673, .24196, .23885, .23576, .23270, .22965, .22663, .22363, .22065, .21770, .21476, .27425, .27093, .26763, .26435, .26109, .25785, .25463, .25143, .24825, .24510, .30854, .30503, .30153, .29806, .29460, .29116, .28774, .28434, .28096, .27760, .34458, .34090, .33724, .33360, .32997, .32636, .32276, .31918, .31561, .31207, .38209, .37828, .37448, .37070, .36693, .36317, .35942, .35569, .35197, .34827, .42074, .41683, .41294, .40905, .40517, .40129, .39743, .39358, .38974, .38591, .46017, .45620, .45224, .44828, .44433, .44038, .43644, .43251, .42858, .42465, .50000, .49601, .49202, .48803, .48405, .48006, .47608, .47210, .46812, .46414]
var rightTable = [.50000, .50399, .50798, .51197, .51595, .51994, .52392, .52790, .53188, .53586, .53983, .54380, .54776, .55172, .55567, .55962, .56356, .56749, .57142, .57535, .57926, .58317, .58706, .59095, .59483, .59871, .60257, .60642, .61026, .61409, .61791, .62172, .62552, .62930, .63307, .63683, .64058, .64431, .64803, .65173, .65542, .65910, .66276, .66640, .67003, .67364, .67724, .68082, .68439, .68793, .69146, .69497, .69847, .70194, .70540, .70884, .71226, .71566, .71904, .72240, .72575, .72907, .73237, .73565, .73891, .74215, .74537, .74857, .75175, .75490, .75804, .76115, .76424, .76730, .77035, .77337, .77637, .77935, .78230, .78524, .78814, .79103, .79389, .79673, .79955, .80234, .80511, .80785, .81057, .81327, .81594, .81859, .82121, .82381, .82639, .82894, .83147, .83398, .83646, .83891, .84134, .84375, .84614, .84849, .85083, .85314, .85543, .85769, .85993, .86214, .86433, .86650, .86864, .87076, .87286, .87493, .87698, .87900, .88100, .88298, .88493, .88686, .88877, .89065, .89251, .89435, .89617, .89796, .89973, .90147, .90320, .90490, .90658, .90824, .90988, .91149, .91309, .91466, .91621, .91774, .91924, .92073, .92220, .92364, .92507, .92647, .92785, .92922, .93056, .93189, .93319, .93448, .93574, .93699, .93822, .93943, .94062, .94179, .94295, .94408, .94520, .94630, .94738, .94845, .94950, .95053, .95154, .95254, .95352, .95449, .95543, .95637, .95728, .95818, .95907, .95994, .96080, .96164, .96246, .96327, .96407, .96485, .96562, .96638, .96712, .96784, .96856, .96926, .96995, .97062, .97128, .97193, .97257, .97320, .97381, .97441, .97500, .97558, .97615, .97670, .97725, .97778, .97831, .97882, .97932, .97982, .98030, .98077, .98124, .98169, .98214, .98257, .98300, .98341, .98382, .98422, .98461, .98500, .98537, .98574, .98610, .98645, .98679, .98713, .98745, .98778, .98809, .98840, .98870, .98899, .98928, .98956, .98983, .99010, .99036, .99061, .99086, .99111, .99134, .99158, .99180, .99202, .99224, .99245, .99266, .99286, .99305, .99324, .99343, .99361, .99379, .99396, .99413, .99430, .99446, .99461, .99477, .99492, .99506, .99520, .99534, .99547, .99560, .99573, .99585, .99598, .99609, .99621, .99632, .99643, .99653, .99664, .99674, .99683, .99693, .99702, .99711, .99720, .99728, .99736, .99744, .99752, .99760, .99767, .99774, .99781, .99788, .99795, .99801, .99807, .99813, .99819, .99825, .99831, .99836, .99841, .99846, .99851, .99856, .99861, .99865, .99869, .99874, .99878, .99882, .99886, .99889, .99893, .99896, .99900, .99903, .99906, .99910, .99913, .99916, .99918, .99921, .99924, .99926, .99929, .99931, .99934, .99936, .99938, .99940, .99942, .99944, .99946, .99948, .99950, .99952, .99953, .99955, .99957, .99958, .99960, .99961, .99962, .99964, .99965, .99966, .99968, .99969, .99970, .99971, .99972, .99973, .99974, .99975, .99976, .99977, .99978, .99978, .99979, .99980, .99981, .99981, .99982, .99983, .99983, .99984, .99985, .99985, .99986, .99986, .99987, .99987, .99988, .99988, .99989, .99989, .99990, .99990, .99990, .99991, .99991, .99992, .99992, .99992, .99992, .99993, .99993, .99993, .99994, .99994, .99994, .99994, .99995, .99995, .99995, .99995, .99995, .99996, .99996, .99996, .99996, .99996, .99996, .99997, .99997, .99997, .99997, .99997, .99997, .99997, .99997, .99998, .99998, .99998, .99998]

function populateTable() {
	var zTable = [];
	var z = 0;
	simple = false;

	if(simple) {
		// Create a z-table with increments of 0.1.
		var numDigits = 1;
		var perLine = 1;
		for(let i=0 ; i<simpleTable.length ; i++){
			zTable.push( [ z , simpleTable[i] ] );
			z += 0.1;
		}
	}
	else {
		// Create a z-table with increments of 0.01.
		var numDigits = 2;
		var perLine = 10;
		for(let i=0 ; i<rightTable.length ; i++){
			zTable.push( [ z , rightTable[i] ] );
			z += 0.01;
		}
	}


	// Display the length on the page. 
	$('span#length').html(zTable.length);

	// Create a z-table. 
	var tableData = "";
	// tableData = "<h2>[z, &Phi;]</h2>";
	for(let i=0 ; i<zTable.length ; i++) {
		// if(i%perLine==0) tableData += "<br>";
		tableData += '<div class="col">';
			tableData += '<div class="tip">P(Z < '+(zTable[i][0]).toFixed(numDigits)+')<br>' + percent(zTable[i][1]) + '</div>';
			tableData += '<div class="main">z<br>' + (zTable[i][0]).toFixed(numDigits) + '<br><!--br-->&Phi;<br>' + zTable[i][1].toFixed(5) + '</div>';
		tableData += '</div>';
		// tableData += "&nbsp;&nbsp;";
	}

	// Show the z-table on the page. 
	$('div#zTable').append(tableData);
}

function percent(d) {
	return (d*100).toFixed(3) + '%';
}

function probabilityLessThan(zScore) {
	var result;
	
	if(zScore>0) {
		var index = 100*zScore;
		var inRange = index<rightTable.length;

		if(inRange)	result = rightTable[index.toFixed(0)];
		else		result = 0.99999;
	}
	else if(zScore<0) {
		var index = -100*zScore;
		var inRange = index<rightTable.length;

		if(inRange)	result = 1 - rightTable[index.toFixed(0)];
		else		result = 1 - 0.99999;
	}
	else if(zScore==0) result = 0.5;
	else result = null;

	return result;
}

function go() {
	if($('#zScore').val()) {
		var zScore = 1*$('#zScore').val();
		toast( 'P(Z < '+zScore+') = ' + percent(probabilityLessThan(zScore)) );
	} 
	else {
		alert('Error');
	}
}
